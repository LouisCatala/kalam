import{bi as h,aI as u,b as L,aT as c,bc as g,c0 as y}from"./vendor.dfe763a8.js";import{a as b}from"./vendor_axios.5abceb0c.js";import{M as C}from"./index.a0a07941.js";import"./vendor_core_js_pure.0ea38aa2.js";import"./vendor_react_epic_spinners.d732b23a.js";import"./vendor_mui_datatables.e4cef698.js";import"./vendor_lodash.61d30fe5.js";import"./vendor_react_slick.00ec4174.js";import"./vendor_react_easy_edit.bfc94365.js";import"./vendor_react_player.20d2e3d1.js";const w="https://join.navgurukul.org/api/",R=[{name:"id",label:"S.No",options:{filter:!0,sort:!0,customBodyRender:(a,s)=>s.rowIndex+1}},{name:"campus",label:"Name",options:{filter:!0,sort:!0,customBodyRender:(a,s)=>{const e=s.rowData[0],r=a==="All"?"/campus/allcampus/students":`/campus/${e}/students`;return c(y,{to:r,style:{color:"#f05f40"},children:a})}}}],v=()=>{const{loggedInUser:a,roles:s}=h(o=>o.auth),[e,r]=u.useState([]),[d,l]=u.useState(!0),p=async()=>{var o;try{const i=s.findIndex(t=>t.role==="Admin"),n=s.find(t=>t.role==="Campus"),f=((o=n==null?void 0:n.access)==null?void 0:o.map(t=>t.access))||[],x=`${w}campus`,m=await b.get(x);r(i!==-1?[...m.data.data,{campus:"All"}]:[...m.data.data.filter(t=>f.includes(t.id))]),l(!1)}catch{}};return L.exports.useEffect(()=>{(async()=>await p())()},[a]),c(g,{maxWidth:"sm",children:c(C,{title:"Campuses Name",columns:R,data:e,showLoader:d})})};export{v as default};
